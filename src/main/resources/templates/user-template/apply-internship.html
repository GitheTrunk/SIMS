<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply for Internship - SIMS</title>
    <style>
        :root { --primary: #2563eb; --secondary: #7c3aed; --gray-bg: #f9fafb; --gray-text: #6b7280; --dark-text: #1f2937; }
        body { margin: 0; font-family: Arial, sans-serif; background-color: var(--gray-bg); color: var(--dark-text); }
        a { text-decoration: none; }

        /* Navbar */
        nav {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .nav-container {
            max-width: 1200px;
            margin: auto;
            padding: 16px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-links { display: flex; gap: 24px; align-items: center; }
        .nav-links a { color: white; padding: 10px 16px; border-radius: 6px; transition: background 0.3s; }
        .nav-links a:hover { background: rgba(255,255,255,0.2); }

        .container { max-width: 800px; margin: auto; padding: 32px; }

        .form-wrapper { background: white; padding: 32px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }

        .internship-header {
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 24px;
            margin-bottom: 24px;
        }

        .internship-header h2 { margin: 0 0 8px 0; color: var(--primary); font-size: 1.5rem; }
        .internship-meta { color: var(--gray-text); font-size: 0.95rem; }
        .internship-meta span { margin-right: 16px; }

        .form-group { margin-bottom: 24px; }
        label { display: block; font-weight: 600; margin-bottom: 8px; color: var(--dark-text); }
        input[type="text"],
        input[type="email"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: Arial, sans-serif;
            font-size: 1rem;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 150px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: var(--dark-text);
            flex: 1;
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        .info-box {
            background: #f0f9ff;
            border-left: 4px solid var(--primary);
            padding: 16px;
            margin-bottom: 24px;
            border-radius: 8px;
        }

        .info-box strong { color: var(--primary); }

        .helper-text { font-size: 0.85rem; color: var(--gray-text); margin-top: 6px; }

        @media (max-width: 768px) {
            .container { padding: 16px; }
            .form-wrapper { padding: 20px; }
            .form-actions { flex-direction: column; }
        }
    </style>
</head>

<body>
    <!-- nav -->
    <nav>
        <div class="nav-container">
            <a href="/" class="logo">ðŸ“š SIMS</a>
                <div class="nav-links">
                    <a href="/student/dashboard">Dashboard</a>
                    <a href="/student/browse-internship">Browse Internships</a>
                    <a href="/student/user-application">My Applications</a>
                    <a href="/student/user-profile">Profile</a>
                </div>
        </div>
    </nav>


    <!-- company information -->
    <div class="container">
        <div class="form-wrapper">
            <div class="internship-header">
                <h2 th:text="${internship.title}">Internship Title</h2>
            <div class="internship-meta">
                    <span>
                        <strong>Company:</strong>
                        <span th:text="${internship.company.companyName}">Company Name</span>
                    </span>
                    <span>
                        <strong>Location:</strong>
                        <span th:text="${internship.location}">Location</span>
                    </span>
                        <span th:if="${internship.seats}">
                        <strong>Available Seats:</strong>
                        <span th:text="${internship.seats}">5</span>
                    </span>
        </div>
    </div>

            <div class="info-box">
                <strong>Application Form</strong>
                <p>Please review your CV on file and provide a cover letter explaining your interest in this position.</p>
            </div>

            <!-- Application Form -->
            <form th:action="@{/student/apply/{id}(id=${internship.id})}" method="post">
            
                <!-- CV -->
                <div class="form-group">
                    <label>Your CV</label>
                        <div th:if="${student.cvFile}" style="padding: 12px; background: #f3f4f6; border-radius: 8px; margin-bottom: 12px;">
                            <strong>Current CV:</strong> <span th:text="${student.cvFile}">cv_file.pdf</span>
                            <p class="helper-text">Your uploaded CV will be submitted with your application</p>
                        </div>
                        <div th:if="!${student.cvFile}" style="padding: 12px; background: #fef2f2; border-radius: 8px; border-left: 4px solid #ef4444; margin-bottom: 12px;">
                            <strong style="color: #dc2626;">No CV Uploaded</strong>
                            <p class="helper-text">Please <a href="/student/user-profile" style="color: var(--primary);">upload a CV</a> before submitting your application.</p>
                        </div>
                </div>

                <!-- Cover Letter -->
                <div class="form-group">
                    <label for="coverLetter">Your Cover Letter <span style="color: #ef4444;">*</span></label>
                    <textarea id="coverLetter" name="coverLetter" required placeholder="Tell us why you're interested in this internship, what skills you bring, and what you hope to learn..."></textarea>
                    <p class="helper-text">Minimum 50 characters. Share your enthusiasm and relevant experience for this role.</p>
                </div>

                <!-- Internship Details -->
                <div class="form-group" th:if="${internship.description}">
                    <label>Position Description</label>
                        <div style="padding: 12px; background: #f3f4f6; border-radius: 8px; border-left: 4px solid var(--primary);">
                            <p th:text="${internship.description}" style="margin: 0; white-space: pre-wrap;"></p>
                        </div>
                </div>

          
                <div class="form-actions">
                    <a href="/student/browse-internship" class="btn btn-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary">Submit Application</button>
                </div>

            </form>
    </div>

</div>

</body>


</html>
